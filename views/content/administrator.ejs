<div class="container mt-4">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" data-toggle="tab" href="#userListTab">User List</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-toggle="tab" href="#addUser">Add User</a>
        </li>
    </ul>

    <!-- Tab panes -->
    <div class="tab-content mt-4">
        <!-- Administrator List Tab -->
        <div id="userListTab" class="tab-pane fade show active">
            <ul id="userList" class="list-group">
                <!-- Example administrator item -->
                <% userList.forEach((data) => { %>
                    <li class="list-group-item"><%- data.username %> <a href="#" class="text-danger ml-2" onclick="removeAdmin(this)">Remove</a></li>
                <% }); %>
                <!-- <li class="list-group-item">Administrator - <a href="#" class="text-danger ml-2" onclick="removeAdmin(this)">Remove</a></li> -->
            </ul>
        </div>

        <!-- Administrator CRUD Tab -->
        <div id="addUser" class="tab-pane fade">
            <h3>Add User by Employees ID</h3>
            <!-- Form for adding administrators -->
            <form id="addEmployeeForm" action="#">
                <div style="display: inline-flex;"><input type="text" id="employeeInput" class="form-control" placeholder="Employee ID" style="width: 50%;" name="employeeId" onkeydown="disableEnter(event)">
                    <button type="button" class="btn btn-primary ml-2" onclick="searchData()">Check Employee</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    const employeeInput = document.getElementById('employeeInput');
    const searchData = () => {
        const inputNumber = parseInt(employeeInput.value);

        if (isNaN(inputNumber)) {
            Swal.fire({
                title: "Warning!",
                text: "Please Input in Number.",
                icon: "warning",
                confirmButtonText: "OK",
            });
        } else {
            fetch(`/employee/${inputNumber}`)
                .then((response) => response.json())
                .then((data) => {
                    if (data.length === 0) {
                        Swal.fire({
                        title: "Not Found!",
                        text: "Theres nothing dude",
                        icon: "error",
                        confirmButtonText: "OK",
                    });
                    }
                    Swal.fire({
                        title: "Success",
                        text: data[0].name,
                        icon: "success",
                        confirmButtonText: "OK",
                    });
                })
                .catch((error) => {
                    console.error('Error fetching search results:', error);
                });
        }
    }

    const disableEnter = (event) => {
        if (event.key === "Enter") {
            event.preventDefault();
        }
    }

</script>